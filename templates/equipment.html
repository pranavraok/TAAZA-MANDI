<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TAAZA MANDI - Equipment</title>
  <link rel="stylesheet" href="css/navbar.css">
  <link rel="stylesheet" href="css/sidebar.css">
  <link rel="stylesheet" href="css/footer.css">
  <style>
    body {
      background: #f6faef;
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: grid;
      grid-template-areas:
        "nav nav"
        "sidebar main"
        "footer footer";
      grid-template-columns: 300px 1fr;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
    }
    header { grid-area: nav; }
    aside { 
      grid-area: sidebar; 
      background: #fff; 
      box-shadow: 2px 0 10px rgba(0,0,0,0.07); 
      padding: 0; 
      display: flex; 
      flex-direction: column;
      min-width: 300px;
    }
    main { 
      grid-area: main; 
      padding: 32px 0 0 0; 
      background: transparent;
      min-height: 100vh;
    }
    footer { 
      grid-area: footer; 
      background: #e8f5e9; 
      padding: 30px 0 0 0; 
      color: #333; 
      border-top: 1px solid #d0e2d0;
    }

    /* Equipment Page Styles */
    .equipment-header {
      max-width: 1100px;
      margin: 0 auto 18px auto;
      padding: 0 10px;
    }
    .section-title {
      color: #222;
      font-size: 2em;
      font-weight: 700;
      margin: 0 0 6px 0;
    }
    .section-subtitle {
      color: #666;
      font-size: 1.08em;
      margin-bottom: 18px;
    }
    .equipment-filters {
      display: flex;
      gap: 14px;
      align-items: center;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }
    .equipment-filters select, .equipment-filters input[type="text"] {
      padding: 8px 14px;
      border-radius: 6px;
      border: 2px solid #d0e2d0;
      font-size: 1em;
      background: #fff;
      color: #222;
      transition: border-color 0.2s;
    }
    .equipment-filters select:focus, .equipment-filters input[type="text"]:focus {
      outline: none;
      border-color: #43a047;
    }
    .equipment-filters label {
      color: #555;
      font-weight: 500;
      margin-right: 4px;
    }
    .equipment-filters .sort-label {
      margin-left: auto;
      font-weight: 500;
      color: #555;
    }
    .equipment-filters .sort-select {
      min-width: 110px;
    }

    .equipment-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, 350px);
      gap: 24px;
      max-width: 1200px;
      margin: 0 auto;
      justify-content: center;
      padding: 0 10px;
    }

    .equipment-card {
      background: #fff;
      border-radius: 15px;
      padding: 0 0 18px 0;
      box-shadow: 0 6px 24px rgba(60,80,60,0.15);
      border: 2px solid #e0e0e0;
      display: flex;
      flex-direction: column;
      width: 350px;
      height: 480px;
      position: relative;
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
      cursor: pointer;
    }
    .equipment-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 32px rgba(60,80,60,0.2);
      border-color: #43a047;
    }

    .equipment-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px 12px 0 0;
      border: 2px solid #f0f0f0;
      flex-shrink: 0;
      transition: border-color 0.2s;
    }
    .equipment-card:hover .equipment-image {
      border-color: #43a047;
    }

    .equipment-content {
      padding: 18px 22px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .equipment-title {
      color: #222;
      font-size: 1.3em;
      font-weight: 700;
      margin: 0 0 8px 0;
      line-height: 1.3;
    }

    .equipment-category {
      background: #e8f5e9;
      color: #2e7d32;
      font-size: 0.9em;
      font-weight: 600;
      border-radius: 6px;
      padding: 4px 12px;
      display: inline-block;
      border: 1px solid #c8e6c9;
      margin-bottom: 12px;
      align-self: flex-start;
    }

    .equipment-description {
      color: #666;
      font-size: 0.95em;
      line-height: 1.5;
      margin-bottom: 16px;
      flex: 1;
    }

    .equipment-details {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding: 12px 16px;
      background: #f8f9fa;
      border-radius: 8px;
      border: 1px solid #e9ecef;
    }

    .equipment-price {
      color: #43a047;
      font-weight: 700;
      font-size: 1.1em;
    }

    .equipment-location {
      color: #666;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .equipment-actions {
      display: flex;
      gap: 12px;
      margin-top: auto;
    }

    .btn-rent, .btn-buy {
      flex: 1;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.95em;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-rent {
      background: #fff;
      color: #43a047;
      border: 2px solid #43a047;
    }
    .btn-rent:hover {
      background: #e8f5e9;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(67, 160, 71, 0.2);
    }

    .btn-buy {
      background: #43a047;
      color: #fff;
      border: 2px solid #43a047;
    }
    .btn-buy:hover {
      background: #388e3c;
      border-color: #388e3c;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(67, 160, 71, 0.3);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      backdrop-filter: blur(4px);
    }

    .modal-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 0;
      border-radius: 15px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      animation: modalSlideIn 0.3s ease-out;
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      background: #43a047;
      color: #fff;
      padding: 20px 24px;
      border-radius: 15px 15px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: 1.4em;
      font-weight: 700;
      margin: 0;
    }

    .close {
      color: #fff;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }
    .close:hover {
      opacity: 0.8;
    }

    .modal-body {
      padding: 24px;
    }

    .equipment-info {
      display: flex;
      gap: 20px;
      margin-bottom: 24px;
      align-items: center;
    }

    .modal-equipment-image {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 12px;
      border: 2px solid #e0e0e0;
    }

    .modal-equipment-details h3 {
      color: #222;
      margin: 0 0 8px 0;
      font-size: 1.3em;
    }

    .modal-equipment-details p {
      color: #666;
      margin: 4px 0;
      font-size: 0.95em;
    }

    .modal-actions {
      display: flex;
      gap: 16px;
      margin-top: 24px;
    }

    .modal-btn {
      flex: 1;
      padding: 14px 20px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1em;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .modal-btn-rent {
      background: #fff;
      color: #43a047;
      border: 2px solid #43a047;
    }
    .modal-btn-rent:hover {
      background: #e8f5e9;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(67, 160, 71, 0.2);
    }

    .modal-btn-buy {
      background: #43a047;
      color: #fff;
      border: 2px solid #43a047;
    }
    .modal-btn-buy:hover {
      background: #388e3c;
      border-color: #388e3c;
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(67, 160, 71, 0.3);
    }

    @media (max-width: 1100px) {
      body { grid-template-columns: 1fr; }
      aside { display: none; }
      main { padding: 32px 0 0 0; }
    }
    @media (max-width: 900px) {
      .equipment-grid { 
        grid-template-columns: repeat(auto-fit, 320px);
        gap: 20px;
        padding: 0 15px;
      }
      .equipment-card {
        width: 320px;
        height: 450px;
      }
    }
    @media (max-width: 700px) {
      .equipment-grid { 
        grid-template-columns: 1fr;
        gap: 16px;
        padding: 0 10px;
      }
      .equipment-card {
        width: 100%;
        height: auto;
        min-height: 420px;
      }
      .modal-content {
        width: 95%;
        margin: 10% auto;
      }
    }
  </style>
</head>
<body>
  <!-- Top Navbar -->
  <header>
    <nav class="navbar">
      <div class="logo">TAAZA MANDI</div>
      <input type="text" placeholder="Search for equipment, tools, machinery...">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="market.html">Market</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <div class="auth-buttons">
        <button>Login</button>
        <button>Sign Up</button>
      </div>
    </nav>
  </header>

  <!-- Sidebar -->
  <aside>
    <div class="sidebar-profile">
      <img src="images/profile.jpg" alt="Profile">
      <div class="name">Name</div>
      <div class="role">Seller Account</div>
      <a href="profile.html" class="profile-link">View Profile</a>
    </div>
    <div class="sidebar-section-title">Dashboard</div>
    <ul class="sidebar-menu">
      <li><a href="index.html">Feed</a></li>
      <li><a href="post-upload.html">Post Upload</a></li>
    </ul>
    <div class="sidebar-section-title">Resources</div>
    <ul class="sidebar-resources">
      <li><a href="predictor.html">Smart Crop Predictor</a></li>
      <li><a href="schemes.html">Government Schemes</a></li>
      <li><a href="equipment.html">Vehicle/Tools Buy-Rent</a></li>
    </ul>
    <div class="sidebar-section-title">Settings</div>
    <ul class="sidebar-settings">
      <li><a href="#">Account Settings</a></li>
      <li><a href="#">Help & Support</a></li>
    </ul>
  </aside>

  <!-- Main Content -->
  <main>
    <div class="equipment-header">
      <h1 class="section-title">Agricultural Equipment</h1>
      <div class="section-subtitle">Find the best tools, machinery, and equipment for your farming needs</div>
      <div class="equipment-filters">
        <label for="category">Filter by:</label>
        <select id="category">
          <option>All Categories</option>
          <option>Machinery</option>
          <option>Tools</option>
          <option>Fertilizers</option>
          <option>Seeds</option>
          <option>Irrigation</option>
        </select>
        <select id="location">
          <option>All India</option>
          <option>Maharashtra</option>
          <option>Punjab</option>
          <option>Uttar Pradesh</option>
          <option>Uttarakhand</option>
        </select>
        <span class="sort-label">Sort by:</span>
        <select class="sort-select">
          <option>Latest</option>
          <option>Price: Low to High</option>
          <option>Price: High to Low</option>
          <option>Popularity</option>
        </select>
      </div>
    </div>

    <div class="equipment-grid" id="equipmentGrid">
      <!-- Equipment cards will be dynamically generated here -->
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-main">
      <div>
        <div class="footer-brand">TAAZA MANDI</div>
        <div>Connecting farmers directly to buyers through a simple and efficient marketplace platform.</div>
      </div>
      <div>
        <div class="footer-section-title">Quick Links</div>
        <ul class="footer-links">
          <li><a href="market.html">Market Prices</a></li>
          <li><a href="about.html">About Us</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </div>
      <div>
        <div class="footer-section-title">Farmer Resources</div>
        <ul class="footer-resources">
          <li><a href="predictor.html">Smart Crop Predictor</a></li>
          <li><a href="schemes.html">Government Schemes</a></li>
          <li><a href="equipment.html">Vehicle/Tools Buy-Rent</a></li>
        </ul>
      </div>
      <div>
        <div class="footer-section-title">Connect With Us</div>
        <ul class="footer-connect">
          <li><a href="#">Follow us on social media for updates and agricultural tips</a></li>
        </ul>
      </div>
    </div>
    <div style="text-align:center;color:#888;font-size:0.98em;padding:10px 0 0 0;">
      © 2025 TAAZA MANDI. All Rights Reserved.
    </div>
  </footer>

  <!-- Equipment Modal -->
  <div id="equipmentModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Equipment Details</h2>
        <span class="close" onclick="closeModal()">&times;</span>
      </div>
      <div class="modal-body">
        <div class="equipment-info">
          <img id="modalImage" class="modal-equipment-image" src="" alt="Equipment">
          <div class="modal-equipment-details">
            <h3 id="modalEquipmentTitle"></h3>
            <p id="modalCategory"></p>
            <p id="modalPrice"></p>
            <p id="modalLocation"></p>
          </div>
        </div>
        <div class="modal-actions">
          <button class="modal-btn modal-btn-rent" onclick="rentEquipment()">
            <span>🏠</span>
            Rent Now
          </button>
          <button class="modal-btn modal-btn-buy" onclick="buyEquipment()">
            <span>💰</span>
            Buy Now
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Equipment data
    const equipmentData = [
      {
        id: 1,
        title: "John Deere Tractor 5050",
        category: "Machinery",
        description: "Powerful 50 HP tractor with advanced features for efficient farming operations. Perfect for small to medium farms.",
        price: "₹8,50,000",
        location: "Punjab",
        image: "images/placeholder.png"
      },
      {
        id: 2,
        title: "Rotavator Attachment",
        category: "Tools",
        description: "High-quality rotavator for soil preparation and cultivation. Compatible with most tractor models.",
        price: "₹45,000",
        location: "Maharashtra",
        image: "images/placeholder.png"
      },
      {
        id: 3,
        title: "Organic Manure Pack",
        category: "Fertilizers",
        description: "Premium organic manure made from natural ingredients. Promotes healthy soil and plant growth.",
        price: "₹2,500",
        location: "Uttar Pradesh",
        image: "images/placeholder.png"
      },
      {
        id: 4,
        title: "Drip Irrigation System",
        category: "Irrigation",
        description: "Complete drip irrigation setup for efficient water management. Includes filters and controllers.",
        price: "₹35,000",
        location: "Gujarat",
        image: "images/placeholder.png"
      },
      {
        id: 5,
        title: "Seed Drill Machine",
        category: "Machinery",
        description: "Precision seed drill for accurate seed placement. Increases crop yield and reduces seed wastage.",
        price: "₹1,20,000",
        location: "Haryana",
        image: "images/placeholder.png"
      },
      {
        id: 6,
        title: "Harvester Combine",
        category: "Machinery",
        description: "Advanced combine harvester for wheat, rice, and other grains. High efficiency and low grain loss.",
        price: "₹15,00,000",
        location: "Punjab",
        image: "images/placeholder.png"
      },
      {
        id: 7,
        title: "Sprayer Pump",
        category: "Tools",
        description: "High-pressure sprayer for pesticides and fertilizers. Covers large areas efficiently.",
        price: "₹8,500",
        location: "Karnataka",
        image: "images/placeholder.png"
      },
      {
        id: 8,
        title: "Hybrid Seeds Collection",
        category: "Seeds",
        description: "Premium hybrid seeds for various crops. High yield potential and disease resistance.",
        price: "₹1,800",
        location: "Tamil Nadu",
        image: "images/placeholder.png"
      }
    ];

    // Initialize equipment page
    document.addEventListener('DOMContentLoaded', function() {
      displayEquipment();
      setupFilters();
    });

    // Display equipment cards
    function displayEquipment(equipment = equipmentData) {
      const grid = document.getElementById('equipmentGrid');
      grid.innerHTML = '';

      equipment.forEach(item => {
        const card = createEquipmentCard(item);
        grid.appendChild(card);
      });
    }

    // Create equipment card
    function createEquipmentCard(item) {
      const card = document.createElement('div');
      card.className = 'equipment-card';
      card.onclick = () => openModal(item);

      card.innerHTML = `
        <img src="${item.image}" alt="${item.title}" class="equipment-image">
        <div class="equipment-content">
          <h3 class="equipment-title">${item.title}</h3>
          <span class="equipment-category">${item.category}</span>
          <p class="equipment-description">${item.description}</p>
          <div class="equipment-details">
            <span class="equipment-price">${item.price}</span>
            <span class="equipment-location">📍 ${item.location}</span>
          </div>
          <div class="equipment-actions">
            <button class="btn-rent" onclick="event.stopPropagation(); rentEquipment(${item.id})">
              🏠 Rent
            </button>
            <button class="btn-buy" onclick="event.stopPropagation(); buyEquipment(${item.id})">
              💰 Buy
            </button>
          </div>
        </div>
      `;

      return card;
    }

    // Setup filters
    function setupFilters() {
      const categoryFilter = document.getElementById('category');
      const locationFilter = document.getElementById('location');
      const sortFilter = document.getElementById('sort-select');

      categoryFilter.addEventListener('change', filterEquipment);
      locationFilter.addEventListener('change', filterEquipment);
      sortFilter.addEventListener('change', filterEquipment);
    }

    // Filter equipment
    function filterEquipment() {
      const category = document.getElementById('category').value;
      const location = document.getElementById('location').value;
      const sort = document.getElementById('sort-select').value;

      let filtered = equipmentData.filter(item => {
        const categoryMatch = category === 'All Categories' || item.category === category;
        const locationMatch = location === 'All India' || item.location === location;
        return categoryMatch && locationMatch;
      });

      // Sort equipment
      switch(sort) {
        case 'Price: Low to High':
          filtered.sort((a, b) => parseInt(a.price.replace(/[^\d]/g, '')) - parseInt(b.price.replace(/[^\d]/g, '')));
          break;
        case 'Price: High to Low':
          filtered.sort((a, b) => parseInt(b.price.replace(/[^\d]/g, '')) - parseInt(a.price.replace(/[^\d]/g, '')));
          break;
        case 'Popularity':
          // For now, just randomize for demonstration
          filtered.sort(() => Math.random() - 0.5);
          break;
        default:
          // Latest - keep original order
          break;
      }

      displayEquipment(filtered);
    }

    // Modal functions
    let currentEquipment = null;

    function openModal(equipment) {
      currentEquipment = equipment;
      document.getElementById('modalTitle').textContent = equipment.title;
      document.getElementById('modalImage').src = equipment.image;
      document.getElementById('modalEquipmentTitle').textContent = equipment.title;
      document.getElementById('modalCategory').textContent = `Category: ${equipment.category}`;
      document.getElementById('modalPrice').textContent = `Price: ${equipment.price}`;
      document.getElementById('modalLocation').textContent = `Location: ${equipment.location}`;
      
      document.getElementById('equipmentModal').style.display = 'block';
    }

    function closeModal() {
      document.getElementById('equipmentModal').style.display = 'none';
      currentEquipment = null;
    }

    function rentEquipment(id) {
      const equipment = id ? equipmentData.find(item => item.id === id) : currentEquipment;
      if (equipment) {
        alert(`Renting ${equipment.title}\nPrice: ${equipment.price}\nLocation: ${equipment.location}\n\nContact seller for rental details!`);
        closeModal();
      }
    }

    function buyEquipment(id) {
      const equipment = id ? equipmentData.find(item => item.id === id) : currentEquipment;
      if (equipment) {
        alert(`Buying ${equipment.title}\nPrice: ${equipment.price}\nLocation: ${equipment.location}\n\nContact seller for purchase details!`);
        closeModal();
      }
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('equipmentModal');
      if (event.target === modal) {
        closeModal();
      }
    }

    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        closeModal();
      }
    });
  </script>
</body>
</html>
